{"ast":null,"code":"var _jsxFileName = \"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/src/pages/Search/index.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Row, Column, Container } from \"../../components/Grid\";\nimport Hero from \"../../components/Hero\";\nimport Card from \"../../components/Card\";\nimport Form from \"../../components/Form\";\nimport List from \"../../components/List\";\nimport Book from \"../../components/Book\";\nimport SaveBtn from \"../../components/SaveBtn\";\nimport Empty from \"../../components/Empty\";\nimport \"./style.css\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      results: [],\n      query: \"\",\n      books: []\n    };\n\n    this.showResults = data => {\n      this.setState({\n        books: data\n      });\n    };\n\n    this.searchBooks = () => {\n      let queryUrl = `https://www.googleapis.com/books/v1/volumes?q=${this.state.query}`;\n      axios.get(queryUrl).then(res => {\n        const validArr = res.data.items.filter(result => result.volumeInfo.title && result.volumeInfo.infoLink && result.volumeInfo.authors && result.volumeInfo.description && result.volumeInfo.imageLinks && result.volumeInfo.imageLinks.thumbnail);\n        this.setState({\n          books: validArr\n        });\n        this.showResults(validArr);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleInputChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchBooks();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Hero, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      id: \"search-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Column, {\n      size: \"md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Book Search\",\n      icon: \"book-open\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      handleInputChange: this.handleInputChange,\n      handleFormSubmit: this.handleFormSubmit,\n      query: this.state.query,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Column, {\n      size: \"md-12\",\n      className: \"results-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, this.state.books && this.state.books.length > 0 ? /*#__PURE__*/React.createElement(List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, this.state.books.map(book => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: book.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Book, {\n        authors: book.volumeInfo.authors ? book.volumeInfo.authors : [\"No Author Information\"],\n        title: book.volumeInfo.title,\n        synopsis: book.volumeInfo.description ? book.volumeInfo.description : \"No Synopsis Available\",\n        url: book.volumeInfo.infoLink,\n        image: book.volumeInfo.imageLinks.thumbnail ? book.volumeInfo.imageLinks.thumbnail : \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(SaveBtn, {\n        authors: book.volumeInfo.authors ? book.volumeInfo.authors : [\"No Author Information\"],\n        title: book.volumeInfo.title,\n        synopsis: book.volumeInfo.description ? book.volumeInfo.description : \"No Synopsis Available\",\n        url: book.volumeInfo.infoLink,\n        image: book.volumeInfo.imageLinks.thumbnail ? book.volumeInfo.imageLinks.thumbnail : \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 27\n        }\n      })));\n    })) : /*#__PURE__*/React.createElement(Empty, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/src/pages/Search/index.js"],"names":["React","Component","axios","Row","Column","Container","Hero","Card","Form","List","Book","SaveBtn","Empty","Search","state","results","query","books","showResults","data","setState","searchBooks","queryUrl","get","then","res","validArr","items","filter","result","volumeInfo","title","infoLink","authors","description","imageLinks","thumbnail","catch","err","console","log","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","render","length","map","book","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Row, Column, Container } from \"../../components/Grid\";\nimport Hero from \"../../components/Hero\";\nimport Card from \"../../components/Card\";\nimport Form from \"../../components/Form\";\nimport List from \"../../components/List\";\nimport Book from \"../../components/Book\";\nimport SaveBtn from \"../../components/SaveBtn\";\nimport Empty from \"../../components/Empty\";\nimport \"./style.css\";\n\nclass Search extends Component {\n  state = {\n    results: [],\n    query: \"\",\n    books: [],\n  };\n\n  showResults = (data) => {\n    this.setState({\n      books: data,\n    });\n  };\n\n  searchBooks = () => {\n    let queryUrl = `https://www.googleapis.com/books/v1/volumes?q=${this.state.query}`;\n    axios\n      .get(queryUrl)\n      .then((res) => {\n        const validArr = res.data.items.filter(\n          (result) =>\n            result.volumeInfo.title &&\n            result.volumeInfo.infoLink &&\n            result.volumeInfo.authors &&\n            result.volumeInfo.description &&\n            result.volumeInfo.imageLinks &&\n            result.volumeInfo.imageLinks.thumbnail\n        );\n        this.setState({\n          books: validArr,\n        });\n        this.showResults(validArr);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.searchBooks();\n  };\n\n  render() {\n    return (\n      <Container>\n        <Hero />\n        <Row id=\"search-row\">\n          <Column size=\"md-12\">\n            <Card title=\"Book Search\" icon=\"book-open\">\n              <Form\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n                query={this.state.query}\n              />\n            </Card>\n          </Column>\n        </Row>\n        <Row>\n          <Column size=\"md-12\" className=\"results-column\">\n            <div>\n              {this.state.books && this.state.books.length > 0 ? (\n                <List>\n                  {this.state.books.map((book) => {\n                    return (\n                      <div key={book.id}>\n                        <Book\n                          authors={\n                            book.volumeInfo.authors\n                              ? book.volumeInfo.authors\n                              : [\"No Author Information\"]\n                          }\n                          title={book.volumeInfo.title}\n                          synopsis={\n                            book.volumeInfo.description\n                              ? book.volumeInfo.description\n                              : \"No Synopsis Available\"\n                          }\n                          url={book.volumeInfo.infoLink}\n                          image={\n                            book.volumeInfo.imageLinks.thumbnail\n                              ? book.volumeInfo.imageLinks.thumbnail\n                              : \"#\"\n                          }\n                        >\n                          <SaveBtn\n                            authors={\n                              book.volumeInfo.authors\n                                ? book.volumeInfo.authors\n                                : [\"No Author Information\"]\n                            }\n                            title={book.volumeInfo.title}\n                            synopsis={\n                              book.volumeInfo.description\n                                ? book.volumeInfo.description\n                                : \"No Synopsis Available\"\n                            }\n                            url={book.volumeInfo.infoLink}\n                            image={\n                              book.volumeInfo.imageLinks.thumbnail\n                                ? book.volumeInfo.imageLinks.thumbnail\n                                : \"#\"\n                            }\n                          />\n                        </Book>\n                      </div>\n                    );\n                  })}\n                </List>\n              ) : (\n                <Empty />\n              )}\n            </div>\n          </Column>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}