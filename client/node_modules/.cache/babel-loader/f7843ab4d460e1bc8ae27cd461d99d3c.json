{"ast":null,"code":"import _defineProperty from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Row,Column,Container}from\"../../components/Grid\";import Hero from\"../../components/Hero\";import Card from\"../../components/Card\";import Form from\"../../components/Form\";import List from\"../../components/List\";import Book from\"../../components/Book\";import SaveBtn from\"../../components/SaveBtn\";import Empty from\"../../components/Empty\";import\"./style.css\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={results:[],query:\"\",books:[]};_this.showResults=function(data){_this.setState({books:data});};_this.searchBooks=function(){var queryUrl=\"https://www.googleapis.com/books/v1/volumes?q=\".concat(_this.state.query);axios.get(queryUrl).then(function(res){var validArr=res.data.items.filter(function(result){return result.volumeInfo.title&&result.volumeInfo.infoLink&&result.volumeInfo.authors&&result.volumeInfo.description&&result.volumeInfo.imageLinks&&result.volumeInfo.imageLinks.thumbnail;});_this.setState({books:validArr});_this.showResults(validArr);}).catch(function(err){console.log(err);});};_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();_this.searchBooks();};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Hero,null),/*#__PURE__*/React.createElement(Row,{id:\"search-row\"},/*#__PURE__*/React.createElement(Column,{size:\"md-12\"},/*#__PURE__*/React.createElement(Card,{title:\"Book Search\",icon:\"book-open\"},/*#__PURE__*/React.createElement(Form,{handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit,query:this.state.query})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Column,{size:\"md-12\",className:\"results-column\"},/*#__PURE__*/React.createElement(\"div\",null,this.state.books&&this.state.books.length>0?/*#__PURE__*/React.createElement(List,null,this.state.books.map(function(book){return/*#__PURE__*/React.createElement(\"div\",{key:book.id},/*#__PURE__*/React.createElement(Book,{authors:book.volumeInfo.authors?book.volumeInfo.authors:[\"No Author Information\"],title:book.volumeInfo.title,synopsis:book.volumeInfo.description?book.volumeInfo.description:\"No Synopsis Available\",url:book.volumeInfo.infoLink,image:book.volumeInfo.imageLinks.thumbnail?book.volumeInfo.imageLinks.thumbnail:\"#\"},/*#__PURE__*/React.createElement(SaveBtn,{authors:book.volumeInfo.authors?book.volumeInfo.authors:[\"No Author Information\"],title:book.volumeInfo.title,synopsis:book.volumeInfo.description?book.volumeInfo.description:\"No Synopsis Available\",url:book.volumeInfo.infoLink,image:book.volumeInfo.imageLinks.thumbnail?book.volumeInfo.imageLinks.thumbnail:\"#\"})));})):/*#__PURE__*/React.createElement(Empty,null)))));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/src/pages/Search/index.js"],"names":["React","Component","axios","Row","Column","Container","Hero","Card","Form","List","Book","SaveBtn","Empty","Search","state","results","query","books","showResults","data","setState","searchBooks","queryUrl","get","then","res","validArr","items","filter","result","volumeInfo","title","infoLink","authors","description","imageLinks","thumbnail","catch","err","console","log","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","length","map","book","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Row, Column, Container } from \"../../components/Grid\";\nimport Hero from \"../../components/Hero\";\nimport Card from \"../../components/Card\";\nimport Form from \"../../components/Form\";\nimport List from \"../../components/List\";\nimport Book from \"../../components/Book\";\nimport SaveBtn from \"../../components/SaveBtn\";\nimport Empty from \"../../components/Empty\";\nimport \"./style.css\";\n\nclass Search extends Component {\n  state = {\n    results: [],\n    query: \"\",\n    books: [],\n  };\n\n  showResults = (data) => {\n    this.setState({\n      books: data,\n    });\n  };\n\n  searchBooks = () => {\n    let queryUrl = `https://www.googleapis.com/books/v1/volumes?q=${this.state.query}`;\n    axios\n      .get(queryUrl)\n      .then((res) => {\n        const validArr = res.data.items.filter(\n          (result) =>\n            result.volumeInfo.title &&\n            result.volumeInfo.infoLink &&\n            result.volumeInfo.authors &&\n            result.volumeInfo.description &&\n            result.volumeInfo.imageLinks &&\n            result.volumeInfo.imageLinks.thumbnail\n        );\n        this.setState({\n          books: validArr,\n        });\n        this.showResults(validArr);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.searchBooks();\n  };\n\n  render() {\n    return (\n      <Container>\n        <Hero />\n        <Row id=\"search-row\">\n          <Column size=\"md-12\">\n            <Card title=\"Book Search\" icon=\"book-open\">\n              <Form\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n                query={this.state.query}\n              />\n            </Card>\n          </Column>\n        </Row>\n        <Row>\n          <Column size=\"md-12\" className=\"results-column\">\n            <div>\n              {this.state.books && this.state.books.length > 0 ? (\n                <List>\n                  {this.state.books.map((book) => {\n                    return (\n                      <div key={book.id}>\n                        <Book\n                          authors={\n                            book.volumeInfo.authors\n                              ? book.volumeInfo.authors\n                              : [\"No Author Information\"]\n                          }\n                          title={book.volumeInfo.title}\n                          synopsis={\n                            book.volumeInfo.description\n                              ? book.volumeInfo.description\n                              : \"No Synopsis Available\"\n                          }\n                          url={book.volumeInfo.infoLink}\n                          image={\n                            book.volumeInfo.imageLinks.thumbnail\n                              ? book.volumeInfo.imageLinks.thumbnail\n                              : \"#\"\n                          }\n                        >\n                          <SaveBtn\n                            authors={\n                              book.volumeInfo.authors\n                                ? book.volumeInfo.authors\n                                : [\"No Author Information\"]\n                            }\n                            title={book.volumeInfo.title}\n                            synopsis={\n                              book.volumeInfo.description\n                                ? book.volumeInfo.description\n                                : \"No Synopsis Available\"\n                            }\n                            url={book.volumeInfo.infoLink}\n                            image={\n                              book.volumeInfo.imageLinks.thumbnail\n                                ? book.volumeInfo.imageLinks.thumbnail\n                                : \"#\"\n                            }\n                          />\n                        </Book>\n                      </div>\n                    );\n                  })}\n                </List>\n              ) : (\n                <Empty />\n              )}\n            </div>\n          </Column>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}