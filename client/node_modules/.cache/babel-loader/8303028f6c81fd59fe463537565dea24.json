{"ast":null,"code":"import _classCallCheck from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../../utils/API\";import{Column,Row,Container}from\"../../components/Grid\";import Hero from\"../../components/Hero\";import List from\"../../components/List\";import Book from\"../../components/Book\";import DeleteBtn from\"../../components/DeleteBtn\";import\"./style.css\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";var Saved=/*#__PURE__*/function(_Component){_inherits(Saved,_Component);var _super=_createSuper(Saved);function Saved(){var _this;_classCallCheck(this,Saved);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={saved:[]};_this.loadSaved=function(){API.getAllSaved().then(function(res){_this.setState({saved:res.data});}).catch(function(err){return console.log(err);});};_this.removeSaved=function(book){var id=book._id;API.removeSaved(id).then(function(){console.log(\"\".concat(id,\" deleted from DB\"));toast(\"\".concat(book.title,\" by \").concat(book.authors,\" removed from saved books\"));_this.loadSaved();}).catch(function(err){return console.log(err);});};return _this;}_createClass(Saved,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadSaved();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Hero,null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"card text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body bg-dark\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"header\",id:\"saved\"},\"Saved Books\"))),/*#__PURE__*/React.createElement(Column,{size:\"md-12\"},this.state.saved.length?/*#__PURE__*/React.createElement(List,null,this.state.saved.map(function(book){return/*#__PURE__*/React.createElement(Book,{key:book._id,authors:book.authors?book.authors:[\"No Author Information\"],title:book.title,synopsis:book.synopsis?book.synopsis:\"No Synopsis Available\",url:book.url,image:book.image?book.image:\"#\"},/*#__PURE__*/React.createElement(DeleteBtn,{authors:book.authors?book.authors:[\"No Author Information\"],title:book.title,synopsis:book.synopsis?book.synopsis:\"No Synopsis Available\",url:book.url,image:book.image?book.image:\"#\",id:book._id,onClick:function onClick(){return _this2.removeSaved(book);}}));})):/*#__PURE__*/React.createElement(\"div\",{className:\"card text-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body bg-dark\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"header\",id:\"saved\"},\"Loading Saved Books\")))))));}}]);return Saved;}(Component);export default Saved;","map":{"version":3,"sources":["/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/src/pages/Saved/index.js"],"names":["React","Component","API","Column","Row","Container","Hero","List","Book","DeleteBtn","toast","Saved","state","saved","loadSaved","getAllSaved","then","res","setState","data","catch","err","console","log","removeSaved","book","id","_id","title","authors","length","map","synopsis","url","image"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../../utils/API\";\nimport { Column, Row, Container } from \"../../components/Grid\";\nimport Hero from \"../../components/Hero\";\nimport List from \"../../components/List\";\nimport Book from \"../../components/Book\";\nimport DeleteBtn from \"../../components/DeleteBtn\";\nimport \"./style.css\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass Saved extends Component {\n  state = {\n    saved: [],\n  };\n\n  componentDidMount() {\n    this.loadSaved();\n  }\n\n  loadSaved = () => {\n    API.getAllSaved()\n      .then((res) => {\n        this.setState({\n          saved: res.data,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  removeSaved = (book) => {\n    let id = book._id;\n\n    API.removeSaved(id)\n      .then(() => {\n        console.log(`${id} deleted from DB`);\n        toast(`${book.title} by ${book.authors} removed from saved books`);\n        this.loadSaved();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    return (\n      <div>\n        <Container>\n          <Hero />\n          <Row>\n            <div className=\"card text-center\">\n              <div className=\"card-body bg-dark\">\n                <h3 className=\"header\" id=\"saved\">\n                  Saved Books\n                </h3>\n              </div>\n            </div>\n            <Column size=\"md-12\">\n              {this.state.saved.length ? (\n                <List>\n                  {this.state.saved.map((book) => (\n                    <Book\n                      key={book._id}\n                      authors={\n                        book.authors ? book.authors : [\"No Author Information\"]\n                      }\n                      title={book.title}\n                      synopsis={\n                        book.synopsis ? book.synopsis : \"No Synopsis Available\"\n                      }\n                      url={book.url}\n                      image={book.image ? book.image : \"#\"}\n                    >\n                      <DeleteBtn\n                        authors={\n                          book.authors\n                            ? book.authors\n                            : [\"No Author Information\"]\n                        }\n                        title={book.title}\n                        synopsis={\n                          book.synopsis\n                            ? book.synopsis\n                            : \"No Synopsis Available\"\n                        }\n                        url={book.url}\n                        image={book.image ? book.image : \"#\"}\n                        id={book._id}\n                        onClick={() => this.removeSaved(book)}\n                      />\n                    </Book>\n                  ))}\n                </List>\n              ) : (\n                <div className=\"card text-center\">\n                  <div className=\"card-body bg-dark\">\n                    <h3 className=\"header\" id=\"saved\">\n                      Loading Saved Books\n                    </h3>\n                  </div>\n                </div>\n              )}\n            </Column>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Saved;\n"]},"metadata":{},"sourceType":"module"}