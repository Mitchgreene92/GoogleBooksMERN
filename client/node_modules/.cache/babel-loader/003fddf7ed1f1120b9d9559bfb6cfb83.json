{"ast":null,"code":"var _jsxFileName = \"/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/src/pages/Search/index.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Row, Column, Container } from \"../../components/Grid\";\nimport Hero from \"../../components/Hero\";\nimport Card from \"../../components/Card\";\nimport Form from \"../../components/Form\";\nimport List from \"../../components/List\";\nimport Book from \"../../components/Book\";\nimport SaveBtn from \"../../components/SaveBtn\";\nimport Empty from \"../../components/Empty\";\nimport \"./style.css\";\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      results: [],\n      query: \"\",\n      books: []\n    };\n\n    this.showResults = data => {\n      this.setState({\n        books: data\n      });\n    };\n\n    this.searchBooks = () => {\n      let queryUrl = `https://www.googleapis.com/books/v1/volumes?q=${this.state.query}`;\n      axios.get(queryUrl).then(res => {\n        const validArr = res.data.items.filter(result => result.volumeInfo.title && result.volumeInfo.infoLink && result.volumeInfo.authors && result.volumeInfo.description && result.volumeInfo.imageLinks && result.volumeInfo.imageLinks.thumbnail);\n        this.setState({\n          books: validArr\n        });\n        this.showResults(validArr);\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleInputChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchBooks();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Hero, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      id: \"search-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Column, {\n      size: \"md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Book Search\",\n      icon: \"book-open\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      handleInputChange: this.handleInputChange,\n      handleFormSubmit: this.handleFormSubmit,\n      query: this.state.query,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Column, {\n      size: \"md-12\",\n      className: \"results-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, this.state.books && this.state.books.length > 0 ? /*#__PURE__*/React.createElement(List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, this.state.books.map(book => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: book.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Book, {\n        authors: book.volumeInfo.authors ? book.volumeInfo.authors : [\"No Author Information\"],\n        title: book.volumeInfo.title,\n        synopsis: book.volumeInfo.description ? book.volumeInfo.description : \"No Synopsis Available\",\n        url: book.volumeInfo.infoLink,\n        image: book.volumeInfo.imageLinks.thumbnail ? book.volumeInfo.imageLinks.thumbnail : \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(SaveBtn, {\n        authors: book.volumeInfo.authors ? book.volumeInfo.authors : [\"No Author Information\"],\n        title: book.volumeInfo.title,\n        synopsis: book.volumeInfo.description ? book.volumeInfo.description : \"No Synopsis Available\",\n        url: book.volumeInfo.infoLink,\n        image: book.volumeInfo.imageLinks.thumbnail ? book.volumeInfo.imageLinks.thumbnail : \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 49\n        }\n      })));\n    })) : /*#__PURE__*/React.createElement(Empty, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/mitchgreene/Desktop/Coding Class/homework/hw16_googlebooksearch/GoogleBooksMERN/client/src/pages/Search/index.js"],"names":["React","Component","axios","Row","Column","Container","Hero","Card","Form","List","Book","SaveBtn","Empty","Search","state","results","query","books","showResults","data","setState","searchBooks","queryUrl","get","then","res","validArr","items","filter","result","volumeInfo","title","infoLink","authors","description","imageLinks","thumbnail","catch","err","console","log","handleInputChange","event","name","value","target","handleFormSubmit","preventDefault","render","length","map","book","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Row, Column, Container } from \"../../components/Grid\";\nimport Hero from \"../../components/Hero\";\nimport Card from \"../../components/Card\";\nimport Form from \"../../components/Form\";\nimport List from \"../../components/List\";\nimport Book from \"../../components/Book\";\nimport SaveBtn from \"../../components/SaveBtn\";\nimport Empty from \"../../components/Empty\";\nimport \"./style.css\";\n\nclass Search extends Component {\n\n    state = {\n    results: [],\n    query: \"\",\n    books: []\n    };\n\n    showResults = data => {\n        this.setState({\n            books: data\n        })\n    }\n\n    searchBooks = () => {\n        let queryUrl = `https://www.googleapis.com/books/v1/volumes?q=${this.state.query}`;\n        axios.get(queryUrl)\n            .then(res => {\n                const validArr = res.data.items.filter(result => \n                    result.volumeInfo.title &&\n                    result.volumeInfo.infoLink &&\n                    result.volumeInfo.authors &&\n                    result.volumeInfo.description &&\n                    result.volumeInfo.imageLinks &&\n                    result.volumeInfo.imageLinks.thumbnail);\n                    this.setState({\n                        books: validArr\n                    })\n                    this.showResults(validArr);\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    }\n\n    handleInputChange = event => {\n        const { name, value } = event.target;\n        \n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        this.searchBooks();\n      };\n\n    render() {\n        return (\n            <Container>\n                <Hero />\n                <Row id=\"search-row\">\n                    <Column size=\"md-12\">\n                        <Card title=\"Book Search\" icon=\"book-open\">\n                            <Form\n                                handleInputChange={this.handleInputChange}\n                                handleFormSubmit={this.handleFormSubmit}\n                                query={this.state.query}\n                            />\n                        </Card>\n                    </Column>\n                </Row>\n                <Row>\n                    <Column size=\"md-12\" className=\"results-column\">\n                        <div>\n                            {(this.state.books && this.state.books.length > 0) ? (\n                            <List>\n                                {this.state.books.map(book => {\n                                    return (\n                                        <div key={book.id}>\n                                            <Book\n                                                authors={book.volumeInfo.authors ? book.volumeInfo.authors : [\"No Author Information\"]}\n                                                title={book.volumeInfo.title}\n                                                synopsis={book.volumeInfo.description ? book.volumeInfo.description : \"No Synopsis Available\"}\n                                                url={book.volumeInfo.infoLink}\n                                                image={book.volumeInfo.imageLinks.thumbnail ? book.volumeInfo.imageLinks.thumbnail : \"#\"}>\n                                                <SaveBtn\n                                                    authors={book.volumeInfo.authors ? book.volumeInfo.authors : [\"No Author Information\"]}\n                                                    title={book.volumeInfo.title}\n                                                    synopsis={book.volumeInfo.description ? book.volumeInfo.description : \"No Synopsis Available\"}\n                                                    url={book.volumeInfo.infoLink}\n                                                    image={book.volumeInfo.imageLinks.thumbnail ? book.volumeInfo.imageLinks.thumbnail : \"#\"} />\n                                            </Book>\n                                        </div>\n                                    )\n                                })}\n                            </List>\n                            ) : (\n                            <Empty />\n                            )}   \n                        </div>\n                    </Column>\n                </Row>\n            </Container>\n        );\n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}